import{highlightSearchTerm}from"./highlight-search-term.js";document.addEventListener("DOMContentLoaded",function(){const e=e=>{if(document.querySelectorAll(".bibliography, .unloaded").forEach(e=>e.classList.remove("unloaded")),CSS.highlights){const l=highlightSearchTerm({search:e,selector:".bibliography > li"});if(null==l)return;l.forEach(e=>{e.classList.add("unloaded")})}else document.querySelectorAll(".bibliography > li").forEach(l=>{-1==l.innerText.toLowerCase().indexOf(e)&&l.classList.add("unloaded")});document.querySelectorAll("h2.bibliography").forEach(function(e){let l=e.nextElementSibling,t=!0;for(;l&&"H2"!==l.tagName;){if("OL"===l.tagName){const e=l,i=e.querySelectorAll(":scope > li.unloaded"),o=e.querySelectorAll(":scope > li");i.length===o.length?(e.previousElementSibling.classList.add("unloaded"),e.classList.add("unloaded")):t=!1}l=l.nextElementSibling}t&&e.classList.add("unloaded")})};let l;document.getElementById("bibsearch").addEventListener("input",function(){clearTimeout(l);const t=this.value.toLowerCase();l=setTimeout(e(t),300)})});